{"version":3,"sources":["routes.js","index.js","app/04-preco/preco.serv.js","app/04-preco/preco.js","app/03-estoque/estoque.serv.js","app/03-estoque/estoque.js","app/02-importacao/importacao.serv.js","app/02-importacao/importacao.js","app/01-produtos/produtos.serv.js","app/01-produtos/produtos.js","app/hello.serv.js","app/hello.js","templateCacheHtml.js"],"names":["routesConfig","$stateProvider","$urlRouterProvider","$locationProvider","otherwise","state","abstract","url","component","angular","module","service","$http","this","preco","post","templateUrl","controller","PrecoService","vm","loading","then","result","log","data","estoque","EstoqueService","categorias","ImportacaoService","grupos","ProdutosService","AppService","config","categoriaDestaque","grupoDestaque","selectGrupo","grupo","currentGrupo","removeClass","$","id","addClass","currentCategoria","closest","selectCategoria","categoria","save","bindings","label","opened","select","get","extend","run","$templateCache","put"],"mappings":"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","file":"../../scripts/app-a27c5a89cf.js","sourcesContent":["angular\n  .module('app')\n  .config(routesConfig);\n\n/** @ngInject */\nfunction routesConfig($stateProvider, $urlRouterProvider, $locationProvider) {\n  // $locationProvider.html5Mode(true).hashPrefix('!');\n  $urlRouterProvider.otherwise('/produtos');\n\n  $stateProvider\n    .state('app', {\n      abstract: true,\n      url: '',\n      component: 'app'\n    })\n    .state('app.produtos', {\n      url: '/produtos',\n      component: 'produtos'\n    })\n    .state('app.importacao', {\n      url: '/importacao',\n      component: 'importacao'\n    })\n    .state('app.estoque', {\n      url: '/estoque',\n      component: 'estoque'\n    })\n    .state('app.preco', {\n      url: '/preco',\n      component: 'preco'\n    });\n}\n","angular\n  .module('app', ['ui.router']);\n","'use strict';\nangular.module('app')\n  .service('PrecoService', function ($http) {\n    var vm = this;\n\n    vm.preco = function () {\n      return $http.post('/api/price-import.php');\n    };\n  });\n","angular\n  .module('app')\n  .component('preco', {\n    templateUrl: 'app/04-preco/preco.html',\n    controller: function (PrecoService) {\n      var vm = this;\n\n      vm.preco = function () {\n        vm.loading = true;\n        PrecoService.preco()\n          .then(function (result) {\n            vm.log = result.data;\n            vm.loading = false;\n          });\n      };\n\n    }\n  });\n","'use strict';\nangular.module('app')\n  .service('EstoqueService', function ($http) {\n    var vm = this;\n\n    vm.estoque = function () {\n      return $http.post('/api/stock-import.php');\n    };\n  });\n","angular\n  .module('app')\n  .component('estoque', {\n    templateUrl: 'app/03-estoque/estoque.html',\n    controller: function (EstoqueService) {\n      var vm = this;\n\n      vm.estoque = function () {\n        vm.loading = true;\n        EstoqueService.estoque()\n          .then(function (result) {\n            vm.log = result.data;\n            vm.loading = false;\n          });\n      };\n\n    }\n  });\n","'use strict';\nangular.module('app')\n  .service('ImportacaoService', function ($http) {\n    var vm = this;\n\n    vm.categorias = function () {\n      return $http.post('/api/category-import.php');\n    };\n  });\n","angular\n  .module('app')\n  .component('importacao', {\n    templateUrl: 'app/02-importacao/importacao.html',\n    controller: function (ImportacaoService) {\n      var vm = this;\n\n      vm.categorias = function () {\n        vm.loading = true;\n        ImportacaoService.categorias()\n          .then(function (result) {\n            vm.log = result.data;\n            vm.loading = false;\n          });\n      };\n\n    }\n  });\n","'use strict';\nangular.module('app')\n  .service('ProdutosService', function ($http) {\n    var vm = this;\n\n    vm.grupos = function () {\n      return $http.post('/api/grupos.php');\n    };\n\n    vm.categorias = function () {\n      return $http.post('/api/categorias.php');\n    };\n  });\n","angular\n  .module('app')\n  .component('produtos', {\n    templateUrl: 'app/01-produtos/produtos.html',\n    controller: function (ProdutosService, AppService) {\n      var vm = this;\n\n      vm.config = AppService.config;\n\n      ProdutosService.grupos()\n        .then(function (result) {\n          vm.grupos = result.data;\n        });\n\n      ProdutosService.categorias()\n        .then(function (result) {\n          vm.categorias = result.data;\n        });\n\n      var categoriaDestaque, grupoDestaque;\n      vm.selectGrupo = function (grupo) {\n        vm.currentGrupo = grupo;\n\n        if ( grupoDestaque ) {\n          grupoDestaque.removeClass('destaque');\n        }\n\n        grupoDestaque = $('#grupo_' + grupo.id);\n        grupoDestaque.addClass('destaque');\n\n        if ( categoriaDestaque ) {\n          categoriaDestaque.removeClass('destaque');\n          delete vm.currentCategoria;\n        }\n        // debugger;\n        if (vm.config.grupos[grupo.id]) {\n          categoriaDestaque = $('#categoria_' + vm.config.grupos[grupo.id]);\n          categoriaDestaque.addClass('destaque');\n          categoriaDestaque.closest('ul').addClass('opened');\n        }\n      };\n\n      vm.selectCategoria = function (categoria) {\n        if ( categoriaDestaque ) {\n          categoriaDestaque.removeClass('destaque');\n        }\n\n        vm.currentCategoria = categoria;\n\n        // if (vm.config.grupos[grupo.id]) {\n          categoriaDestaque = $('#categoria_' + categoria.id);\n          categoriaDestaque.addClass('destaque');\n          // categoriaDestaque.closest('ul').addClass('opened');\n        // }\n      };\n\n      vm.save = function () {\n        vm.config.grupos[vm.currentGrupo.id] = vm.currentCategoria.id;\n        AppService.save()\n          .then(function () {\n            grupoDestaque.removeClass('destaque');\n            categoriaDestaque.removeClass('destaque');\n            delete vm.currentGrupo;\n            delete vm.currentCategoria;\n          });\n      }\n    }\n  })\n  .component('grupoList', {\n    templateUrl: 'grupo-list',\n    bindings: {\n      label: '@',\n      grupos: '=',\n      opened: '=',\n      select: '='\n    },\n    controller: function (AppService) {\n      var vm = this;\n      vm.config = AppService.config;\n    }\n  });\n","'use strict';\nangular.module('app')\n  .service('AppService', function ($http) {\n    var vm = this;\n\n    vm.config = {\n    };\n\n    $http.get('/api/config.json')\n      .then(function (result) {\n        angular.extend(vm.config, result.data);\n      });\n\n    vm.save = function () {\n      return $http.post('/api/config.php', vm.config)\n        .then(function (result) {\n          angular.extend(vm.config, result.data);\n        });\n    }\n\n\n  });\n","angular\n  .module('app')\n  .component('app', {\n    templateUrl: 'app/hello.html',\n    controller: function (AppService) {\n      this.config = AppService.config;\n    }\n  });\n","angular.module('app').run(['$templateCache', function($templateCache) {$templateCache.put('app/hello.html','<div>\\n  <button type=\"button\" class=\"btn btn-default\" ui-sref=\"app.produtos\" ui-sref-active=\"btn-primary\">Configura\\xE7\\xE3o de categorias</button>\\n  <!-- <button type=\"button\" class=\"btn btn-default\" ui-sref=\"app.produtos2\" ui-sref-active=\"btn-primary\">Importar produtos</button> -->\\n  <button type=\"button\" class=\"btn btn-default\" ui-sref=\"app.importacao\" ui-sref-active=\"btn-primary\">Importar produtos</button>\\n  <button type=\"button\" class=\"btn btn-default\" ui-sref=\"app.estoque\" ui-sref-active=\"btn-primary\">Atualizar estoques</button>\\n  <button type=\"button\" class=\"btn btn-default\" ui-sref=\"app.preco\" ui-sref-active=\"btn-primary\">Atualizar pre\\xE7os</button>\\n</div>\\n<ui-view></ui-view>\\n');\n$templateCache.put('app/01-produtos/produtos.html','<header>\\n  <div ng-if=\"$ctrl.currentGrupo && $ctrl.currentCategoria\">\\n    Associar <strong>{{$ctrl.currentGrupo.name}}</strong> \\xE0 <strong>{{$ctrl.currentCategoria.name}}</strong>\\n    <button class=\"btn\" ng-click=\"$ctrl.save();\">Salvar</button>\\n  </div>\\n  <h4 ng-if=\"!$ctrl.currentGrupo || !$ctrl.currentCategoria\">\\n    Selecione o Grupo e a categoria\\n  </h4>\\n</header>\\n\\n<!-- <pre>{{$ctrl.config|json}}</pre> -->\\n\\n<div class=\"row\">\\n  <div class=\"col-md-6\">\\n    <h2>Grupos do Sankhya</h2>\\n    <grupo-list label=\"grupo\" grupos=\"$ctrl.grupos\" opened=\"true\" select=\"$ctrl.selectGrupo\"></grupo-list>\\n  </div>\\n  <div class=\"col-md-6\">\\n    <h2>Categorias da loja</h2>\\n    <grupo-list label=\"categoria\" grupos=\"$ctrl.categorias\" opened=\"true\" select=\"$ctrl.selectCategoria\"></grupo-list>\\n  </div>\\n</div>\\n\\n<script type=\"text/ng-template\" id=\"grupo-list\">\\n  <ul ng-class=\"{opened: $ctrl.opened}\">\\n    <li id=\"{{$ctrl.label}}_{{grupo.id}}\" ng-repeat=\"grupo in $ctrl.grupos\" ng-class=\"{opened: grupo.opened}\">\\n      <label ng-if=\"!grupo.children.length\" ng-click=\"$ctrl.select(grupo)\">{{grupo.name}}\\n        <span ng-if=\"$ctrl.config.grupos[grupo.id]\">({{$ctrl.config.grupos[grupo.id]}})</span>\\n      </label>\\n      <span ng-if=\"grupo.children.length\" class=\"has-children\">\\n        <label ng-click=\"grupo.opened=!grupo.opened;\">{{grupo.name}}</label>\\n        <grupo-list label=\"{{$ctrl.label}}\" grupos=\"grupo.children\" opened=\"grupo.opened\" select=\"$ctrl.select\"></grupo-list>\\n      </span>\\n    </li>\\n  </ul>\\n</script>\\n');\n$templateCache.put('app/02-importacao/importacao.html','<button type=\"button\" class=\"btn btn-default\" ng-disabled-=\"true\" ng-click=\"$ctrl.categorias()\">Rodar importa\\xE7\\xE3o</button>\\r\\n<span ng-if=\"$ctrl.loading\">Carregando</span>\\r\\n\\r\\n<div ng-repeat=\"produto in $ctrl.log\">\\r\\n  <hr>\\r\\n  <p><label>Produto:</label> {{produto.name}}</p>\\r\\n  <p><label>Grupo:</label> {{produto.group}}</p>\\r\\n  <p><label>Situa\\xE7\\xE3o:</label> {{!produto.status?\\'Produto j\\xE1 cadastrado\\':\\'Produto cadastrado com sucesso\\'}}</p>\\r\\n</div>\\r\\n');\n$templateCache.put('app/03-estoque/estoque.html','<button type=\"button\" class=\"btn btn-default\" ng-disabled-=\"true\" ng-click=\"$ctrl.estoque()\">Rodar importa\\xE7\\xE3o</button>\\r\\n<span ng-if=\"$ctrl.loading\">Carregando</span>\\r\\n\\r\\n<div ng-repeat=\"produto in $ctrl.log\">\\r\\n  <hr>\\r\\n  <p><label>Produto:</label> {{produto.name}}</p>\\r\\n  <p><label>Valor atual:</label> {{produto.current}}</p>\\r\\n  <p><label>Novo valor:</label> {{produto.new}}</p>\\r\\n</div>\\r\\n');\n$templateCache.put('app/04-preco/preco.html','<button type=\"button\" class=\"btn btn-default\" ng-disabled-=\"true\" ng-click=\"$ctrl.preco()\">Rodar importa\\xE7\\xE3o</button>\\r\\n<span ng-if=\"$ctrl.loading\">Carregando</span>\\r\\n\\r\\n<div ng-repeat=\"produto in $ctrl.log\">\\r\\n  <hr>\\r\\n  <p><label>Produto:</label> {{produto.name}}</p>\\r\\n  <p><label>Valor atual:</label> {{produto.current}}</p>\\r\\n  <p><label>Novo valor:</label> {{produto.new}}</p>\\r\\n</div>\\r\\n');}]);"]}